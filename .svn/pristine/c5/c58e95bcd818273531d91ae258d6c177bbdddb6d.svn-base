<?php $base_url = $this->config->item('base_url'); ?>
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
<meta charset="utf-8"/>
<title>Manage Page Details - Create Fundraiser Profile - Doobert</title>
<?php include APPPATH."views/inc/header-css-js.php";?>
<?PHP //include APPPATH."views/includes/head-links.php" ?>
<link rel="stylesheet" type="text/css" href="<?php echo base_url(); ?>assets/plugins/bootstrap-datepicker/css/datepicker.css"/>
<link rel="stylesheet" type="text/css" href="<?php echo base_url(); ?>assets/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css"/>
<link rel="stylesheet" type="text/css" href="<?php echo base_url(); ?>assets/plugins/bootstrap-fileinput/bootstrap-fileinput.css"/>
<link rel="stylesheet" type="text/css" href="<?php echo base_url(); ?>assets/plugins/bootstrap-datepicker/css/datepicker.css"/>
<link href="<?php echo base_url(); ?>assets/cropper.css" rel="stylesheet" />
<style type="text/css">
.back_button {
  display:none;
}
</style>
</head>
<!-- BEGIN BODY -->
<body class="page-header-fixed ">
<?php $display_menu = 2; ?>
<div id="loader" style="display: none;"><img src="<?php echo base_url(); ?>assets/img/ajax-modal-loading.gif" width="32" height="32" align="absmiddle">&nbsp;<span id="loadertext">Loading...</span></div>
<!--Menu Active Link--> 
<!-- BEGIN HEADER -->
<?PHP include APPPATH."views/inc/header-myaccount.php" ?>
<?PHP //include APPPATH."views/includes/head-content-inside.php"; ?>
<?PHP //include APPPATH."views/includes/head-content-login.php"; ?>
<!-- END HEADER -->
<div class="clearfix"> </div>
<!-- BEGIN Breadcrumb -->
<section class="breadcrumb inner-breadcrumb">
	<div class="container">
		<div class="text-left">
			<a href="<?php echo $base_url;?>dashboard">My Dashboard</a><i class="fa fa-angle-right"></i>
			<a href="<?php echo $base_url;?>org-dashboard">Org Dashboard</a> <i class="fa fa-angle-right"></i>
			<a href="<?php echo $base_url;?>sponsorship/sponsorship_list">Fundraiser Pages</a> <i class="fa fa-angle-right"></i>
			<a href="<?php echo $base_url;?>add-fundraiser-select-campaign">Select Campaign</a> <i class="fa fa-angle-right"></i>
			Manage Page Details
		</div>
	</div>
</section>

<!-- BEGIN CONTAINER -->
<section class="main-content-wrapper inner-wrapper">
        <div class="container">
         <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
	                
					<article>
						<div class="entry-content">
							<div class="sub-content main-container clearfix">
								<div class="col-md-12 col-sm-12 col-xs-12 no-space">
  <!-- BEGIN CONTENT -->
  <div class="page-content-wrapper">
    <!-- BEING PAGE CONTENT-->
      <form class="horizontal-form" name="campaign" id="campaign" method="post" action="<?php echo base_url().'add-fundraiser-page-details'; ?>/<?php echo $this->uri->segment(2); ?>" role="form">
        <div class="form-body doobert-form no-space fundraiser-info" id="page-details">
         <h1>Manage Page Details</h1>
          <?php     
        /*echo "<pre>";
        print_r($cost_breakdown_details);
        echo "</pre>"; 
        die;*/
      ?>
          <!--Being Section Title-->
          <div class="gr-wrap col-md-12 col-sm-12 col-xs-12 campaign-detail-box no-space">
           
            <div class="title-patch title">Page Details </div>
            <div class="col-md-8 col-sm-8 col-xs-12 no-space">
            <div class="campaign-detail-inner-info clearfix">
            <div class="gr-wrap col-md-12 no-left-space ipad-paddright0">
              <?php if($error_msg) { ?>
              <div class="alert alert-danger"> <strong>Error!</strong><br>
                <br>
                <?php echo $error_msg; ?> </div>
              <?php } ?>
              <div class="gr-wrap col-md-12 col-sm-12 no-left-space sponser-title-info">
                <div class="form-group">
                  <label class="control-label txtpagetitle" for="txtpagetitle">Page Title:</label>
                  <input type="text" class="form-control in-block w270" name="txtpagetitle" id="txtpagetitle" maxlength="250" value="<?php echo (isset($get_campaign_detail[0]['st_page_title']))?htmlspecialchars($get_campaign_detail[0]['st_page_title']):htmlspecialchars($this->input->post('txtpagetitle')); ?>" autofocus onBlur="save_data();">
                </div>
              </div>
              <div class="gr-wrap col-md-12 col-sm-12 no-space sponser-date-info">
                <div class="form-group">
                  <label class="control-label" for="from_date">Campaign Date Range:</label>
                  <div data-date-format="mm/dd/yyyy" data-date-start-date="+0d" class="input-group date-picker input-daterange">
                    <div class="frm-date">
                      <input type="text" name="from" id="from_date" class="form-control from from_date w111" value="<?php echo (isset($get_campaign_detail[0]['dt_campaign_start']))?date('m/d/Y',strtotime($get_campaign_detail[0]['dt_campaign_start'])):$this->input->post('from'); ?>" onBlur="save_data();">
                       <span class="input-group-addon pull-left from from-date-sel" id="datepicker-icon">
                        <i class="material-icons from-date-icon">date_range</i>
                    </span>
                    </div>
                    <span class="input-group-addon date-to">TO</span>
                    <div class="to-date">
                      <input type="text" name="to" id="to_date" class="form-control to_date w111" value="<?php echo (isset($get_campaign_detail[0]['dt_campaign_end']))?date('m/d/Y',strtotime($get_campaign_detail[0]['dt_campaign_end'])):$this->input->post('to'); ?>" onBlur="save_data();">
                       <span class="input-group-addon pull-left to to-date-sel" id="datepicker-icon">
                        <i class="material-icons to-date-icon">date_range</i>
                    </span>
                    </div>
                  </div>
                </div>
              </div>              
            </div>
             <div class="gr-wrap col-md-12 no-space campaign-page-story">
              
              <div class="gr-wrap col-md-12 no-space page-story">
                <div class="form-group">
                  <label class="control-label" for="txtstorytitle">Page Story Title:</label>
                  <input id="txtstorytitle" class="form-control in-block w270" type="text" autofocus value="<?php echo (isset($get_campaign_detail[0]['st_page_story_title']))?$get_campaign_detail[0]['st_page_story_title']:''; ?>" maxlength="250" name="txtstorytitle" onBlur="save_data();">
                </div>
              </div>
            </div>
            <div class="gr-wrap col-md-12 no-space">
              <div class="form-group"><!--ipad-custom-url-->
                <label class="control-label txtcustomurl" for="txtcustomurl">Custom URL for this Fundraiser Page:</label>
                <div class="clearfix"></div>
                <div class="gr-wrap col-lg-12 no-space url-field">
					<label for="txtcustomurl">http://www.doobert.com/campaign/</label>
                 <input type="text" class="form-control w270 in-block marr5" id="txtcustomurl" name="txtcustomurl" maxlength="250" value="<?php echo (isset($get_campaign_detail[0]['st_custom_url']))?$get_campaign_detail[0]['st_custom_url']:$this->input->post('txtcustomurl'); ?>" onBlur="save_data();">
                  <span class="animal_url" style="display:none; color:#F00">URL already exist, Please specify other one.<br/>
                    </span> <span class="egulr help-info">(e.g.: http://www.doobert.com/campaign/tweety)</span>
                </div>
                <div class="clearfix"></div>
              </div>
              </div>
             
            
            <div class="gr-wrap col-md-12 padr01 no-space">
              <div class="form-group marb0">
                <label class="control-label" for="txtpagestorytitle">Page Profile Story:</label>
                <textarea cols="1" rows="5" class="form-control" name="txtpagestorytitle" id="txtpagestorytitle" onBlur="save_data();"><?php echo isset($get_campaign_detail[0]['st_profile_story'])?$get_campaign_detail[0]['st_profile_story']:$this->input->post('txtpagestorytitle'); ?></textarea>
                <?php /*?><input type="hidden" name="animal_profile_story" id="animal_profile_story" value="<?php echo (isset($get_campaign_detail[0]['st_profile_story']))?htmlspecialchars($get_campaign_detail[0]['st_profile_story']):htmlspecialchars($animal_name['st_profile_story']); ?>" /><?php */?>
              </div>
            </div>
			  </div>
		 </div>
         <div class="col-md-4 col-sm-4 col-xs-12">
        	<div class="right_img"><img src="<?php echo base_url(); ?>assets/img/img_right_select_campaign.jpg" alt="Doobert" /></div> </div>         
         </div>
          <div class="down-part">
            <div class="gr-wrap col-md-12 col-sm-12 col-xs-12 campaign-detail-box no-space">
              <div class="row no-margin">
                <div class="title-patch title1">Cost Breakdown Details</div>
              </div>
              <div class="campaign-detail-inner-info clearfix cost-breakdown-detail">
            <div class="gr-wrap col-md-6 col-sm-6 col-xs-6 no-left-space cost-break-left-info">
              <?php 
          $total_cost = array();
          if($this->session->userdata('last_campaign_id') && !empty($cost_breakdown_details) || (!$this->session->userdata('last_campaign_id') && !empty($cost_breakdown_details))) {
            //if(!empty($cost_breakdown_details)) { 
              $iCount=0;
              foreach($cost_breakdown_details as $row) {
                $iCount++;

                array_push($total_cost,$row['in_cost']); 
        ?>
              <!-- <div class="form-group cost-brekinput"> -->
              <!-- <span style="display:block"><label class="control-label" for="txtpaypalid">Enter Cost Description: <span class="required-filed">*</span> </label> -->
              <!-- </span> -->
              <div class="cost-brekinput">
              <div class="form-group no-margin">
                <div class="col-lg-9 col-md-9 col-sm-9 no-space cost-field">
                  <!-- <input type="text" class="form-control cost_desc_chk" name="cost_desc1[]" id="cost-description_<?php echo $row['in_campaign_cost_id']; ?>" value="<?php echo htmlspecialchars($row['st_items']); ?>" maxlength="100" placeholder="Enter Cost Description..." onBlur="save_data();"> -->
                  <input type="text" class="form-control cost_desc_chk xyz1" name="cost_desc1[]" id="cost_description_<?php echo $iCount; ?>" value="<?php echo htmlspecialchars($row['st_items']); ?>" maxlength="100" placeholder="Enter Cost Description..." onBlur="save_data();">
                  <span class="input-group-btn">
                  <button class="btn default remove_current"  onClick="delete_cost_record('<?php echo $row['in_campaign_cost_id']; ?>');" type="button"> <i class="material-icons">delete</i> </button>
                  </span>
                   <div id="sd<?php echo $iCount; ?>"></div>
                   </div>
                  
                <div class="col-md-3 col-sm-3 no-space fr text-right cost-field-data"><span class="input-group-addon cost-col"> : </span><div class="cost-wrapp">
                    <!-- <input type="text" class="form-control cost-amt" name="cost_price1[]" value="<?php echo $row['in_cost']; ?>" placeholder="$" onBlur="save_data();"> -->
                    <input type="text" class="form-control cost-amt xyz1"  name="cost_price1[]" id="cost_price_<?php echo $iCount; ?>" value="<?php echo $row['in_cost']; ?>" placeholder="$" onBlur="save_data();">                    
                    <input type="hidden" class="cost_breakdown_id" name="cost_breakdown_id[]" value="<?php echo $row['in_campaign_cost_id']; ?>" />
                  </div>
                  <div id="sd_price<?php echo $iCount; ?>"></div>                 
                </div>
                 <div class="clearfix marb10"></div>                 
                <!-- <div class="clearfix"></div> -->
              </div>
              </div>
              <!-- <div class="clearfix"></div> -->
              <?php 
            //$i++;
              }
            //}
        ?>
              <?php 
            } else if(!$this->session->userdata('last_campaign_id') && !empty($cost_breakdown)){
            //if(!empty($cost_breakdown)) {

              $iCount=0;
              foreach($cost_breakdown as $row) {
                $iCount++;
                array_push($total_cost,$row['in_amount']); 
         ?>
              <!-- <div class="form-group no-margin cost-brekinput"> -->
              <div class="cost-brekinput">
              <div class="form-group no-margin">
                <div class="col-lg-9 col-md-9 col-sm-9 no-space cost-field">
                  <!-- <input type="text" class="form-control cost_desc_chk xyz1" name="cost_desc1[]" id="cost-description_<?php echo $row['in_cost_id']; ?>" value="<?php echo htmlspecialchars($row['st_cost_desc']); ?>" maxlength="100" placeholder="Enter Cost Description..."> -->
                  <input type="text" class="form-control cost_desc_chk xyz1" name="cost_desc1[]" id="cost_description_<?php echo $iCount; ?>" value="<?php echo htmlspecialchars($row['st_cost_desc']); ?>" maxlength="100" placeholder="Enter Cost Description...">

                  <span class="input-group-btn">
                  <button class="btn default remove_current" type="button" onClick="delete_cost_record('<?php echo $row['in_cost_id']; ?>');"> <i class="material-icons">delete</i></button>
                  </span>
                  <div id="sd<?php echo $iCount; ?>"></div>
                 </div>
                  
                <div class="col-md-3 col-sm-3 no-space fr text-right cost-field-data"><span class="input-group-addon cost-col"> : </span><div class="cost-wrapp">
        <?php /*!-- <input type="text" class="form-control cost-amt xyz1" name="cost_price1[]" value="<?php echo $row['in_amount']; ?>" placeholder="$"> -->*/?>
        <input type="text" class="form-control cost-amt xyz1" name="cost_price1[]" value="<?php echo $row['in_amount']; ?>" id="cost_price_<?php echo $iCount; ?>" placeholder="$">
                    <input type="hidden" class="cost_breakdown_id" name="cost_breakdown_id[]" value="<?php echo $row['in_cost_id']; ?>" />
                  </div>
                  <div id="sd_price<?php echo $iCount; ?>"></div>
                </div>                 
               <!--  <div class="clearfix"></div> -->
                <div class="clearfix marb10"></div>
              </div>
              </div>
        <!--       <div class="clearfix"></div> -->
              <?php
            //$i++;
              }
            //}
          } else {
        ?>
              <!-- <div class="form-group no-margin"> change-->
                <div class="cost-brekinput">
                  <div class="form-group no-margin"><?php //change ?>
             <!--    <span style="display:block">                
                <label class="control-label" for="txtpaypalid">Enter Cost Description: <span class="required-filed">*</span> </label>
                </span>  -->
                <div class="col-lg-9 col-md-9 col-sm-9 no-space cost-field">
                  <input type="text" class="form-control cost_desc_chk xyz1" name="cost_desc1[]" id="cost_description_1" value="" placeholder="Enter Cost Description..." onBlur="save_data();">
                  <span class="input-group-btn">
                  <button class="btn default remove_current" type="button"><i class="material-icons">delete</i></button>
                  </span>
                    <div id="sd1"></div>
               </div>
               <?php //change ?>
              
                <div class="col-md-3 col-sm-3 no-space fr text-right cost-field-data"><span class="input-group-addon cost-col"> : </span><div class="cost-wrapp">
                    <input type="text" class="form-control cost-amt xyz1" name="cost_price1[]" id="cost_price_1" value="" placeholder="$" onBlur="save_data();">
                  </div>
                    <div id="sd_price1"></div>
                </div>
              <!--   <div id="sd"></div>change -->
                <div class="clearfix marb10"></div>
                </div>
                </div>
        <?php } ?>
                
                <div class="more2"></div>
                <div class="add-more-div">
                <a class="btn orange smallest cost-footer-btn" href="javascript:void(0);">
                <i class="material-icons font-13">add_circle</i> Add More</a>
                </div>
                <div class="form-group">
                  <div class="col-md-12 col-sm-12 no-space fr text-right total-cost">
					  <label>Total:</label>
                  <div class="cost-wrapp amount total_cost flxible_amt">$<?php echo number_format(array_sum($total_cost),2); ?></div>
                  </div>
                  <div class="clearfix"></div>
                   
                </div>
                
              </div>
              <div class="gr-wrap col-md-6 col-sm-6 col-xs-6 photo-video-right-info">
                  <div class="form-group">
				<label class="padt0 marb20">Photos/Videos:<small class="section-info">(Upload JPG or PNG or GIF or JPE or JPEG; Maximum file size 5MB)</small></label>
				<div class="clearfix"></div>
              <?php /*?><div id="add-files-info" style="display: block;">
								<div class="file-type clearfix">
									<div class="custom-file-input btn waves-effect waves-light"><input type="file" id="chosefile" onChange="pressed()"></div>
									<label id="fileLabel" class="padt0">No file choosen</label>
								</div>
								<span class="small-text">(Upload a .jpg, .jpe, .jpeg, .doc, .docx, .xls, .xlsx, .pdf file, 5MB Maximum)</span>
							</div><?php */?>
                  <!--<div class="other-details margin-top-20"> <span class="section-label margin-bottom-10">Photos/Videos: <small class="section-info">(Upload JPG or PNG or GIF or JPE or JPEG; Maximum file size 5MB)</small></span>-->
                  <div class="video-image-row">
                    <input type="hidden" name="photo_cnt" id="photo_cnt" value="<?php echo (isset($campaign_images))?count($campaign_images):0; ?>" />
                    <?php //echo "<pre>";print_r($campaign_images);die;
            $count_photos = (isset($campaign_images))?count($campaign_images):0;//echo $count_photos;die;
            if(isset($campaign_images) && !empty($campaign_images)) {
            $i=1;$j=5;
            foreach($campaign_images as $row) {
               ?>
                    <div class="thumbnail-wrapp crop_photos" data-thumb-id="<?php echo $row['in_campaign_file_id']; ?>"> 
                      <!--Being Image File Uploader-->
                      <div class="fileinput-btnset" id="pro-img-uploader<?php echo $row['in_campaign_file_id']; ?>">
                        <div class="fileinput fileinput-new12" data-provides="fileinput">
                          <div class="fileinput-thumbnail fileinput-preview thumbnail image_preview<?php echo $j; ?>">
                            <?php if($row['st_file_type'] == 'P') { ?>
                            <img src="<?php echo $this->config->item('upload_url'); ?>animal_images/140x140/<?php echo $row['st_file_name']; ?>" alt="<?php echo $row['st_file_name']; ?>" title="<?php echo $row['st_file_name']; ?>">
                            <?php } else { ?>
                            <img src="<?php echo $row['st_file_name']; ?>" title="<?php echo $row['st_file_name']; ?>" alt="<?php echo $row['st_file_name']; ?>">
                            <?php } ?>
                          </div>
                          <div class="uploader-labl marb5 add_photo_btn<?php echo $j; ?>"> <a href="javascript:void(0);" class="btn default w100p remove_images" data-inc-id="<?php echo $i; ?>" data-file="<?php echo $row['st_file_name']; ?>" data-id="<?php echo $row['in_campaign_file_id']; ?>"> <span class="remove_pic" id="photo_rem<?php echo $j; ?>"><i class="material-icons">close</i></span></a>
                            <?php /*?> <i class="fa <?php echo ($row['st_file_type'] == 'P')?"fa-picture-o":"fa-film"; ?>"></i> Remove 
							<span" class="btn default btn-file fileinput-new light-green remove_images" title="Add Photo"><span class="fileinput-new">Remove</span><?php */?>
                            <img id="loadimg_<?php echo $row['in_campaign_file_id']; ?>" style="display:none;" src="<?php echo base_url(); ?>assets/img/ajax-loading.gif" alt="loader" /> </span> </div>
                          <?php if($row['st_file_type'] == 'P') { ?>
                          <div class="radio-btn" style="clear:both;display:block;">                           
                            <input type="radio" name="set_default" data-file-id="<?php echo $row['in_campaign_file_id']; ?>" class="default_check update_default_check"  id="set_default<?php echo $j; ?>" value="photo<?php echo $j; ?>" <?php if($row['in_profile_pic'] == 1)echo "checked"; ?> />
							<label for="set_default<?php echo $j; ?>" class="default_pic" id="profile_pic<?php echo $j; ?>">Set as Profile</label></div>
                          <input type="hidden" name="set_default_edit" id="set_default_edit_<?php echo $row['in_campaign_file_id']; ?>" value="">
                          <?php } ?>
                          <?php /*?><span class="remove_pic" id="photo_rem<?php echo $j; ?>" style="display:none;"> 
                                <i class="fa fa-picture-o"></i> Remove
                          </span><?php */?>
                        </div>
                      </div>
                    </div>
                    <!--End Image File Uploader-->
                    
                    <?php
            $i++;
            $j++;
            }
          }
        ?>
                    <div class="thumbnail-wrapp"> 
                      
                      <!--Being Image File Uploader-->
          
          <!--<div class="fileinput-btnset" id="pro-img-uploader1">
                       <!-- <div class="fileinput fileinput-new" data-provides="fileinput"> ->
             <div class="fileinput fileinput-new">
                          <div class="fileinput-thumbnail fileinput-preview thumbnail image_preview1 img-preview1"></div>
            -->
  
  
          <div class="fileinput-btnset" id="pro-img-uploader1">
                      <!--  <div class="fileinput fileinput-new" data-provides="fileinput">-->
            <div class="fileinput fileinput-new">
                          <div class="fileinput-thumbnail fileinput-preview thumbnail image_preview1"> </div>
                          <?php /*?>  <div class="col-xs-12 col-sm-3">
                                        <div class="eg-preview clearfix">
                                          <div class="preview preview-md fileinput-thumbnail image_preview1" id="preview_crop_1" name="preview_crop_1"></div>
                                        </div>
                                    </div>
                                    <?php */?>
                  
                  
                          <div class="uploader-labl add_photo_btn1"> <span class="btn default btn-file fileinput-new orange-btn"
																		   > <span class="fileinput-new"><i class="material-icons">image</i> Add Photo</span> <span class="fileinput-exists"> Change </span>
                            <input type="file" name="photo1" id="photo1" onChange="campaignreadURL(this)">
                            </span> </div>
              
            <!--<label class="default_pic" id="profile_pic1" style="clear:both;display:block;">
                            <input type="radio" name="set_default" class="default_check" id="set_default1" value="photo1" />Set as Profile
                            </label>
                            <span class="remove_pic" id="photo_rem1" style="display:none;" title="Remove"> 
                            <i class="fa fa-picture-o"></i> Remove
                          </span>
                            
                          <a class="link-video btn orange fileinput-new" id="link-video1" href="#youtube-url1" data-toggle="modal" title="Add Video"><i class="fa fa-plus"></i> Add Video</a> 
                          </div>
                      </div> -->
              			<div class="radio-btn" style="clear:both;display:block;">                          
                            <input type="radio" name="set_default" class="default_check default_check_pic" id="set_default1" value="photo1" />
							<label for="set_default1" class="default_pic" id="profile_pic1">Set as Profile </label></div>
                          <span class="remove_pic" id="photo_rem1" style="display:none;"> <i class="material-icons">close</i></span> <a class="link-video btn orange-btn fileinput-new" id="link-video1" href="#youtube-url1" data-toggle="modal"><i class="material-icons">videocam</i> Add Video</a> </div>
                      </div>
                      <!--End Image File Uploader--> 
                      
                      <!--Being Video Youtube Link Uploader-->
                      <div class="videoinput-btnset" id="pro-video-uploader1" style="display:none">
                        <div class="videoinput videoinput-exists">
                          <div class="videoinput-thumbnail videoinput-preview1 video-thumbnail"> <img src="http://img.youtube.com/vi/LmL_f38ckbQ/default.jpg"> </div>
                          <div class="uploader-labl"> <a href="javascript:void(0);" class="btn default videoinput-exists width-full" id="youtube-link-remove1"> <span class="remove_pic"><i class="material-icons">close</i></span></a></div>
                        </div>
                      </div>
                      <!--End Video Youtube Link Uploader--> 
                      
                    </div>
                    
                    <!-- 2 -->
                    <div class="thumbnail-wrapp"> 
                      
                      <!--Being Image File Uploader-->
                      <div class="fileinput-btnset" id="pro-img-uploader2" style="display:none;" >
                       <!-- <div class="fileinput fileinput-new" data-provides="fileinput"> -->
            <div class="fileinput fileinput-new">
                          <div class="fileinput-thumbnail fileinput-preview thumbnail image_preview2" > </div>
                          <div class="uploader-labl add_photo_btn2"> <span class="btn default btn-file fileinput-new orange-btn"> <span class="fileinput-new"><i class="material-icons">image</i> Add Photo</span> <span class="fileinput-exists"> Change </span>
                            <input type="file" name="photo2" id="photo2" onChange="campaignreadURL(this)">
                            </span> </div>
                          <div class="radio-btn" style="clear:both;display:block;">                          
                            <input type="radio" name="set_default" class="default_check default_check_pic" id="set_default2" value="photo2" />
                           <label for="set_default2" class="default_pic" id="profile_pic2">Set as Profile </label>
						</div>
                          <span class="remove_pic" id="photo_rem2" style="display:none;"> <i class="material-icons">close</i></span> <a class="link-video btn orange-btn fileinput-new" id="link-video2" href="#youtube-url2" data-toggle="modal"><i class="material-icons">videocam</i> Add Video</a> </div>
                      </div>
                      <!--End Image File Uploader--> 
                      
                      <!--Being Video Youtube Link Uploader-->
                      <div class="videoinput-btnset" id="pro-video-uploader2" style="display:none">
                        <div class="videoinput videoinput-exists" >
                          <div class="videoinput-thumbnail videoinput-preview2 video-thumbnail"> <img src="http://img.youtube.com/vi/LmL_f38ckbQ/default.jpg"> </div>
                          <div class="uploader-labl"> <a href="javascript:void(0);" class="btn default videoinput-exists width-full" id="youtube-link-remove2"> <span class="remove_pic"> <i class="fa fa-film"></i> Remove </span></a> </div>
                        </div>
                      </div>
                      <!--End Video Youtube Link Uploader--> 
                      
                    </div>
                    <!-- --> 
                    
                    <!-- 3 -->
                    <div class="thumbnail-wrapp"> 
                      
                      <!--Being Image File Uploader-->
                      <div class="fileinput-btnset" id="pro-img-uploader3" style="display:none;">
                       <!--<div class="fileinput fileinput-new" data-provides="fileinput">-->
              <div class="fileinput fileinput-new">
                          <div class="fileinput-thumbnail fileinput-preview thumbnail image_preview3" > </div>
                          <div class="uploader-labl add_photo_btn3"> <span class="btn default btn-file fileinput-new orange-btn"> <span class="fileinput-new"><i class="material-icons">image</i> Add Photo</span> <span class="fileinput-exists"> Change </span>
                            <input type="file" name="photo3" id="photo3" onChange="campaignreadURL(this)">
                            </span> </div>
                            
                          <div class="radio-btn" style="clear:both;display:block;">
                            <input type="radio" name="set_default" class="default_check default_check_pic" id="set_default3" value="photo3" />
                            <label for="set_default3" class="default_pic" id="profile_pic3">Set as Profile</label>
				  		  </div>
                          <span class="remove_pic" id="photo_rem3" style="display:none;"> <i class="material-icons">close</i></span> <a class="link-video btn orange-btn fileinput-new" id="link-video3" href="#youtube-url3" data-toggle="modal"><i class="material-icons">videocam</i> Add Video</a> </div>
                      </div>
                      <!--End Image File Uploader--> 
                      
                      <!--Being Video Youtube Link Uploader-->
                      <div class="videoinput-btnset" id="pro-video-uploader3" style="display:none">
                        <div class="videoinput videoinput-exists" >
                          <div class="videoinput-thumbnail videoinput-preview3 video-thumbnail"> <img src="http://img.youtube.com/vi/LmL_f38ckbQ/default.jpg"> </div>
                          <div class="uploader-labl"> <a href="javascript:void(0);" class="btn default videoinput-exists width-full" id="youtube-link-remove3"> <span class="remove_pic"> <i class="fa fa-film"></i> Remove </span> </a> </div>
                        </div>
                      </div>
                      <!--End Video Youtube Link Uploader--> 
                      
                    </div>
                    <!-- --> 
                    
                    <!-- 4 -->
                    <div class="thumbnail-wrapp"> 
                      
                      <!--Being Image File Uploader-->
                      <div class="fileinput-btnset" id="pro-img-uploader4" style="display:none;">
                        <!--<div class="fileinput fileinput-new" data-provides="fileinput">-->
              <div class="fileinput fileinput-new">
                          <div class="fileinput-thumbnail fileinput-preview thumbnail image_preview4" > </div>
                          <div class="uploader-labl add_photo_btn4"> <span class="btn default btn-file fileinput-new orange-btn"> <span class="fileinput-new"><i class="material-icons">image</i> Add Photo</span> <span class="fileinput-exists"> Change </span>
                            <input type="file" name="photo4" id="photo4" onChange="campaignreadURL(this)">
                            </span> </div>
                          <div class="radio-btn">
                            <input type="radio" name="set_default" class="default_check default_check_pic" id="set_default4" value="photo4" />
                            <label for="set_default4" class="default_pic" id="profile_pic4">Set as Profile </label>
                          </div>
                          <span class="remove_pic" id="photo_rem4" style="display:none;"> <i class="material-icons">close</i> </span> <a class="link-video btn orange-btn fileinput-new" id="link-video4" href="#youtube-url4" data-toggle="modal"><i class="material-icons">videocam</i> Add Video</a> </div>
                      </div>
                      <!--End Image File Uploader--> 
                      
                      <!--Being Video Youtube Link Uploader-->
                      <div class="videoinput-btnset" id="pro-video-uploader4" style="display:none">
                        <div class="videoinput videoinput-exists">
                          <div class="videoinput-thumbnail videoinput-preview4 video-thumbnail"> <img src="http://img.youtube.com/vi/LmL_f38ckbQ/default.jpg"> </div>
                          <div class="uploader-labl"> <a href="javascript:void(0);" class="btn default videoinput-exists width-full" id="youtube-link-remove4"> <span class="remove_pic"><i class="fa fa-film"></i> Remove </span> </a> </div>
                        </div>
                      </div>
                      <!--End Video Youtube Link Uploader--> 
                      
                    </div>
                    <!-- --> 
                    
                  </div>
                </div>
				  </div>				
           <div class="gr-wrap col-md-12 no-space payment-details">
            <div class="paypal-pay-info">
             <div class="row dobt-form no-margin">
                <div class="gr-wrap col-md-12 no-space padr0">
                  <div class="form-group">
                    <label class="control-label" for="txtpaypalid_email">Enter your PayPal Email ID:
                      <?php if($this->session->userdata('campaign_type') == 'D') { ?>
                      
                      <?php } ?>
                    </label>
                    <input type="text" class="form-control w270 in-block" id="txtpaypalid_email" name="txtpaypalid" maxlength="250" value="<?php echo isset($get_campaign_detail[0]['st_paypal_email'])?$get_campaign_detail[0]['st_paypal_email']:$this->input->post('txtpaypalid'); ?>" onBlur="save_data();">
                    <p class="paypal-small-text">(If you do not know the PayPal ID at this time, you can leave this blank but you will need to know it when you Confirm the pledges so the money can be collected.)</p>
                  </div>
                  <span class="paypal">Don't have a PayPal account yet? <a href="http://www.paypal.com/" target="_blank">Create PayPal account</a> </span>
                  <div class="clear"></div>
                  </div>
                  <?php if($this->session->userdata('campaign_type') == 'P') { ?>
             <?php } ?>
              </div>
			   </div>
            </div>
            	</div>
            </div>
            
            <div class="clearfix"></div>
          </div>
          <?php /*?><a title="Continue &gt;" name="continue" id="continue" href="#" class="btn pink-btn">
Continue <i class="fa fa-angle-right"></i>
</a><?php */?>
          <hr class="padt10">
          <div class="text-center">
            <button type="submit" name="continue" id="continue" class="btn btn-big orange waves-effect waves-light padr10">Continue <i class="material-icons font-24">keyboard_arrow_right</i></button>
            <img id="loadimg" style="display:none;" src="<?php echo base_url(); ?>assets/img/ajax-loading.gif" alt="loader" /> </div>
          <div class="clearfix"></div>
        <div class="col-md-12 col-sm-12 col-xs-12 text-center">
						<ul class="progress-dots">
						<li class="current"><i class="material-icons">fiber_manual_record</i></li>
						<li class="current"><i class="material-icons">fiber_manual_record</i></li>
						<li><i class="material-icons">fiber_manual_record</i></li>
						<li><i class="material-icons">fiber_manual_record</i></li>
						</ul>
					</div>
        </div>
        <input type="hidden" name="frm_action" id="frm_action" value="add_campaign" />
        <input type="hidden" name="campaign_id" id="campaign_id" value="<?php echo ($this->session->userdata('last_campaign_id')==true)?$this->session->userdata('last_campaign_id'):((isset($get_campaign_detail[0]['in_campaign_id']))?$get_campaign_detail[0]['in_campaign_id']:''); ?>">
        <input type="hidden" id="rotate_angle1" name="rotate_angle1" value="0"/>
        <input type="hidden" id="crop_x1" name="x1"/>
        <input type="hidden" id="crop_y1" name="y1"/>
        <input type="hidden" id="crop_w1" name="w1"/>
        <input type="hidden" id="crop_h1" name="h1"/>
        <input type="hidden" id="rotate_angle2" name="rotate_angle2" value="0"/>
        <input type="hidden" id="crop_x2" name="x2"/>
        <input type="hidden" id="crop_y2" name="y2"/>
        <input type="hidden" id="crop_w2" name="w2"/>
        <input type="hidden" id="crop_h2" name="h2"/>
        <input type="hidden" id="rotate_angle3" name="rotate_angle3" value="0"/>
        <input type="hidden" id="crop_x3" name="x3"/>
        <input type="hidden" id="crop_y3" name="y3"/>
        <input type="hidden" id="crop_w3" name="w3"/>
        <input type="hidden" id="crop_h3" name="h3"/>
        <input type="hidden" id="rotate_angle4" name="rotate_angle4" value="0"/>
        <input type="hidden" id="crop_x4" name="x4"/>
        <input type="hidden" id="crop_y4" name="y4"/>
        <input type="hidden" id="crop_w4" name="w4"/>
        <input type="hidden" id="crop_h4" name="h4"/>
        <input type="hidden" name="url_link_one"  id="url_link_one"   value="" />
        <input type="hidden" name="url_link_two"  id="url_link_two"   value="" />
        <input type="hidden" name="url_link_three"  id="url_link_three" value="" />
        <input type="hidden" name="url_link_four"   id="url_link_four"  value="" />
        <input type="hidden" name="breed_string" id="breed_string" value="" />
        <input type="hidden" name="type_string" id="type_string" value="" />
        <input type="hidden" name="image_file" id="image_file">
        <input type="hidden" name="file_to_upload" id="file_to_upload">
        <input type="hidden" name="uploaded_photo1" id="uploaded_photo1" value="" />
        <input type="hidden" name="uploaded_photo2" id="uploaded_photo2" value="" />
        <input type="hidden" name="uploaded_photo3" id="uploaded_photo3" value="" />
        <input type="hidden" name="uploaded_photo4" id="uploaded_photo4" value="" />
        <input type="hidden" name="profile_display" id="profile_display">
        <input type="hidden" name="add_fundraiser_crop_upload_path" id="add_fundraiser_crop_upload_path" value="<?php echo base_url(); ?>add_fundraiser/ajax_file_upload" />
        <input type="hidden" name="add_fundraiser_cropped_image_upload_path" id="add_fundraiser_cropped_image_upload_path" value="<?php echo base_url(); ?>add_fundraiser/cropped_image_ajax_file_upload" />
        <input type="hidden" name="rotate_path" id="rotate_path" value="<?php echo base_url(); ?>add_fundraiser/rotate_image" />
        <input type="hidden" name="sess_campaign_id" id="sess_campaign_id" value="" >
      </form>
      
      <!-- END PAGE CONTENT--> 
    </div>
								</div>
 
								</div>
						</div><!-- .entry-content -->
					</article><!-- #post-## -->
                </div>
            </div>
        </div>
</section>
<!-- END CONTAINER -->
<?PHP include "youtube_url_popup.php"; ?>
<div id="responsive">
  <div class="modal fade" id="crop_img_popup1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog message-modal">
      <div class="modal-content">
        <div class="modal-header">
          <button aria-hidden="true" data-dismiss="modal" class="close cancel_close1" type="button"></button>
          <h4 class="modal-title">Fundraiser Photo</h4>
        </div>
        <div class="modal-body">
          <div class="scroller crop-scroller" data-always-visible="1" data-rail-visible1="1" style="height:100%;overflow:auto;">
            <p>Select an area of an image and then click on Save Photo button to save photo.<img id="ajax-loader-bar-rotate1" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/></p>
            <div class="crop-img-here1"> <img id="ajax-loader-bar1" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/> </div>
          </div>
        </div>
        <div class="modal-footer text-center no-margin">
          <button class="btn orange add_fundraiser_save_popup1" style="display:none;" data-dismiss="modal" onClick="javascript:void(0);" type="button">Save Photo</button>
          <button class="btn black add_fundraiser_cancel_popup1" data-dismiss="modal" onClick="javascript:void(0);" type="button">Cancel</button>
        </div>
      </div>
      <!-- /.modal-content --> 
    </div>
    <!-- /.modal-dialog --> 
  </div>
</div>
<!-- Photo Popup2 -->
<div id="responsive">
  <div class="modal fade" id="crop_img_popup2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog message-modal">
      <div class="modal-content">
        <div class="modal-header">
          <button aria-hidden="true" data-dismiss="modal" class="close cancel_close2" type="button"></button>
          <h4 class="modal-title">Fundraiser Photo</h4>
        </div>
        <div class="modal-body">
          <div class="scroller crop-scroller" data-always-visible="1" data-rail-visible1="1" style="height:100%;overflow:auto;">
            <p>Select an area of an image and then click on Save Photo button to save photo.<img id="ajax-loader-bar-rotate2" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/></p>
            <div class="crop-img-here2"><img id="ajax-loader-bar2" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/></div>
          </div>
        </div>
        <div class="modal-footer text-center no-margin">
          <button class="btn orange add_fundraiser_save_popup2" style="display:none;" data-dismiss="modal" onClick="javascript:void(0);" type="button">Save Photo</button>
          <button class="btn black add_fundraiser_cancel_popup2" data-dismiss="modal" onClick="javascript:void(0);" type="button">Cancel</button>
        </div>
      </div>
      <!-- /.modal-content --> 
    </div>
    <!-- /.modal-dialog --> 
  </div>
</div>
<!-- Photo Popup3 --> 
<div id="responsive">
  <div class="modal fade" id="crop_img_popup3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog message-modal">
      <div class="modal-content">
        <div class="modal-header">
          <button aria-hidden="true" data-dismiss="modal" class="close cancel_close3" type="button"></button>
          <h4 class="modal-title">Fundraiser Photo</h4>
        </div>
        <div class="modal-body">
          <div class="scroller crop-scroller" data-always-visible="1" data-rail-visible1="1" style="height:100%;overflow:auto;">
            <p>Select an area of an image and then click on Save Photo button to save photo.<img id="ajax-loader-bar-rotate3" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/></p>
            <div class="crop-img-here3"><img id="ajax-loader-bar3" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/></div>
          </div>
        </div>
        <div class="modal-footer text-center no-margin">
          <button class="btn orange add_fundraiser_save_popup3" style="display:none;" data-dismiss="modal" onClick="javascript:void(0);" type="button">Save Photo</button>
          <button class="btn black add_fundraiser_cancel_popup3" data-dismiss="modal" onClick="javascript:void(0);" type="button">Cancel</button>
        </div>
      </div>
      <!-- /.modal-content --> 
    </div>
    <!-- /.modal-dialog --> 
  </div>
</div>

<!-- Photo Popup4 -->
<div id="responsive">
  <div class="modal fade" id="crop_img_popup4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog message-modal">
      <div class="modal-content">
        <div class="modal-header">
          <button aria-hidden="true" data-dismiss="modal" class="close cancel_close4"
				  type="button"></button>
          <h4 class="modal-title">Fundraiser Photo</h4>
        </div>
        <div class="modal-body">
          <div class="scroller crop-scroller" data-always-visible="1" data-rail-visible1="1" style="height:100%;overflow:auto;">
            <p>Select an area of an image and then click on Save Photo button to save photo.<img id="ajax-loader-bar-rotate4" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/></p>
            <div class="crop-img-here4"><img id="ajax-loader-bar4" src="<?php echo base_url(); ?>assets/img/ajax-loader-bar.gif" alt="image" style="display:none;"/></div>
          </div>
        </div>
        <div class="modal-footer text-center no-margin">
          <button class="btn orange add_fundraiser_save_popup4" style="display:none;" data-dismiss="modal" onClick="javascript:void(0);" type="button">Save Photo</button>
          <button class="btn black add_fundraiser_cancel_popup4" data-dismiss="modal" onClick="javascript:void(0);" type="button">Cancel</button>
        </div>
      </div>
      <!-- /.modal-content --> 
    </div>
    <!-- /.modal-dialog --> 
  </div>
</div>

<?PHP include APPPATH."views/inc/footer-dashboard.php" ?>
<!-- BEGIN JAVASCRIPTS --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-validation/dist/jquery.validate.min.js" type="text/javascript"></script> 
<!--Date Picker--> 
<script type="text/javascript" src="<?php echo base_url(); ?>assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script> 
<script src="<?php echo base_url(); ?>assets/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script> 
<script src="<?php echo base_url(); ?>assets/scripts/custom/components-pickers.js"></script> 
<script>
$(document).on('keyup','.xyz1',function()
{
    var current_arr=new Array();
          var current=this.id;
          var current_arr=current.split('_');
          var j=current_arr[current_arr.length-1];  

                if($('#cost_description_'+j+'').val() != '' || $('#cost_price_'+j+'').val() != '' )
              {
                  $('#cost_description_'+j+'').closest('.form-group').addClass('required'); 
                  $('#cost_price_'+j+'').closest('.form-group').addClass('required'); 
                  if($('#cost_description_'+j+'').val() == '')
                  {
                      $('#cost_description_'+j+'').closest('.form-group').addClass('has-error'); 
                      $('#sd'+j+'').html('<label for="cost_description_'+j+'" class="help-inline">This field is required.</label>');              
                  }
                  if($('#cost_price_'+j+'').val() == '')
                  {
                    $('#cost_price_'+j+'').closest('.form-group').addClass('has-error'); 
                    $('#sd_price'+j+'').html('<label for="cost_price_'+j+'" class="help-inline">This field is required.</label>');              
                  }
                  $('#cost_description_'+j+'').prop('required',true);        
                  $('#cost_price_'+j+'').prop('required',true);               
              }    
               else
              {
                  $('#cost_description_'+j+'').closest('.form-group').removeClass('required'); 
                  $('#cost_price_'+j+'').closest('.form-group').removeClass('required'); 

                  $('#cost_description_'+j+'').closest('.form-group').removeClass('has-error'); 
                  $('#cost_price_'+j+'').closest('.form-group').removeClass('has-error'); 

                  $('#cost_description_'+j+'-error').remove(); 
                  $('#cost_price_'+j+'-error').remove();                  

                  $('#cost_description_'+j+'').prop('required',false);               
                  $('#cost_price_'+j+'').prop('required',false);               
                  
              }                 
});

  jQuery(document).ready(function() {       
     // initiate layout and plugins
     ComponentsPickers.init();
  });   
</script> 
<script type="text/javascript">
$(document).ready(function(e) {
  $('#txtpagetitle').focus();
  
  jQuery.validator.addMethod("specialChars", function( value, element ) {
        var regex = new RegExp("^[a-zA-Z0-9-_]+$");
        var key = value;

        if (!regex.test(key)) {
           return false;
        }
        return true;
    }, "Special charecters are not allowed in the URL");
<?php ?>  
$('#campaign').validate({
    errorElement: 'span', //default input error message container
    errorClass: 'help-inline', // default input error message class
    focusInvalid: true, // do not focus the last invalid input
    rules: {
      txtpagetitle:{
        required:true
      },
      from:{
        required:true
      },
      to:{
        required:true
      },
                     "cost_description_1": {
                      required: function(element){
                      return $("#cost_price_1").val()!="";
                      }
                      },
                      "cost_description_2": {
                      required: function(element){
                      return $("#cost_price_2").val()!="";
                      }
                      },
                      "cost_description_3": {
                      required: function(element){
                      return $("#cost_price_3").val()!="";
                      }
                      },
                      "cost_description_4": {
                      required: function(element){
                      return $("#cost_price_4").val()!="";
                      }
                      },
                      "cost_description_5": {
                      required: function(element){
                      return $("#cost_price_5").val()!="";
                      }
                      },
                      "cost_description_6": {
                      required: function(element){
                      return $("#cost_price_6").val()!="";
                      }
                      },
                      "cost_description_7": {
                      required: function(element){
                      return $("#cost_price_7").val()!="";
                      }
                      },
                      "cost_description_8": {
                      required: function(element){
                      return $("#cost_price_8").val()!="";
                      }
                      },
                      "cost_description_9": {
                      required: function(element){
                      return $("#cost_price_9").val()!="";
                      }
                      },
                      "cost_description_10": {
                      required: function(element){
                      return $("#cost_price_10").val()!="";
                      }
                      },
                      "cost_price_1": {
                      required: function(element){
                      return $("#cost_description_1").val()!="";
                      }
                      },
                      "cost_price_2": {
                      required: function(element){
                      return $("#cost_description_2").val()!="";
                      }
                      },
                      "cost_price_3": {
                      required: function(element){
                      return $("#cost_description_3").val()!="";
                      }
                      },
                      "cost_price_4": {
                      required: function(element){
                      return $("#cost_description_4").val()!="";
                      }
                      },
                      "cost_price_5": {
                      required: function(element){
                      return $("#cost_description_5").val()!="";
                      }
                      },
                      "cost_price_6": {
                      required: function(element){
                      return $("#cost_description_6").val()!="";
                      }
                      },
                      "cost_price_7": {
                      required: function(element){
                      return $("#cost_description_7").val()!="";
                      }
                      },
                      "cost_price_8": {
                      required: function(element){
                      return $("#cost_description_8").val()!="";
                      }
                      },
                      "cost_price_9": {
                      required: function(element){
                      return $("#cost_description_9").val()!="";
                      }
                      },
                      "cost_price_10": {
                      required: function(element){
                      return $("#cost_description_10").val()!="";
                      }
                      },
      txtcustomurl:{
        required:true,
        specialChars:true,
        remote: {
           url: "<?php echo base_url(); ?>add_fundraiser/check_custom_url",
           type: "post",
           beforeSend:function(){
              $('#loader').show();
           },
           data: {
            txtcustomurl: function() {
            return $( "#txtcustomurl" ).val();
            },
            campaign_id : $('#campaign_id').val()
           },
           complete:function(){
            $('#loader').hide();
           }
        }
      },
      <?php if($this->session->userdata('campaign_type') == 'D') { ?>
      txtpaypalid:{
        required:true,
        email:true
      },
      <?php } ?>
      txtpagestorytitle:{
        required:true
      },
      txtstorytitle:{
        required:true
      }
    },
    messages: {
      txtpagetitle:{
        required:'Please enter page title.'
      },
      from:{
        required:'Please enter from date.'
      },
      to:{
        required:'Please enter to date.'
      },
      txtcustomurl:{
        required:'Please enter custom URL.',
        specialChars:'Special Charecters are not allowed.',
        remote:'URL already exist, please specify another one.'
      },
      "cost_description_1":{required:'Please enter cost description.'},
      "cost_price_1":{required:'Please enter cost price.'},
      "cost_description_2":{required:'Please enter cost description.'},
      "cost_price_2":{required:'Please enter cost price.'},
      "cost_description_3":{required:'Please enter cost description.'},
      "cost_price_3":{required:'Please enter cost price.'},
      "cost_description_4":{required:'Please enter cost description.'},
      "cost_price_4":{required:'Please enter cost price.'},
      "cost_description_5":{required:'Please enter cost description.'},
      "cost_price_5":{required:'Please enter cost price.'},
      "cost_description_6":{required:'Please enter cost description.'},
      "cost_price_6":{required:'Please enter cost price.'},
      "cost_description_7":{required:'Please enter cost description.'},
      "cost_price_7":{required:'Please enter cost price.'},
      "cost_description_8":{required:'Please enter cost description.'},
      "cost_price_8":{required:'Please enter cost price.'},
      "cost_description_9":{required:'Please enter cost description.'},
      "cost_price_9":{required:'Please enter cost price.'},
      "cost_description_10":{required:'Please enter cost description.'},
      "cost_price_10":{required:'Please enter cost price.'},
      
      <?php if($this->session->userdata('campaign_type') == 'D') { ?>
      txtpaypalid:{
        required:'Please enter email.',
        email:'Please enter valid email.'
      },
      <?php } ?>
      txtpagestorytitle:{
        required:"Please enter page profile story."
      },
      txtstorytitle:{
        required:"Please enter page story title."
      }     
    },

    invalidHandler: function (event, validator) { //display error alert on form submit   
      $('#campaign').show();
      
      var errors = validator.numberOfInvalids();
      if (errors) {
        var message = errors == 1
        ? 'You missed 1 field. It has been highlighted'
        : 'You missed ' + errors + ' fields. They have been highlighted';
        alert(message);
      }
    },

    highlight: function (element) { // hightlight error inputs
      $(element).closest('.form-group').addClass('has-error'); // set error class to the control group      
    },
    success: function (span) {       
      span.closest('.form-group').removeClass('has-error');
      span.remove();
    },
    errorPlacement: function(error, element) {
	
  if(element.attr("id") == "cost_description_1") {
    $('#sd1').html(error);              
  }else if(element.attr("id") == "cost_price_1") {
    $('#sd_price1').html(error);              
  }
  else if(element.attr("id") == "cost_description_2") {
    $('#sd2').html(error);              
  }else if(element.attr("id") == "cost_price_2") {
    $('#sd_price2').html(error);              
  }
  else if(element.attr("id") == "cost_description_3") {
    $('#sd3').html(error);              
  }else if(element.attr("id") == "cost_price_3") {
    $('#sd_price3').html(error);              
  }else if(element.attr("id") == "cost_description_4") {
    $('#sd4').html(error);              
  }else if(element.attr("id") == "cost_price_4") {
    $('#sd_price4').html(error);              
  }else if(element.attr("id") == "cost_description_5") {
    $('#sd5').html(error);              
  }else if(element.attr("id") == "cost_price_5") {
    $('#sd_price5').html(error);              
  }
  else if(element.attr("id") == "cost_description_6") {
    $('#sd6').html(error);              
  }else if(element.attr("id") == "cost_price_6") {
    $('#sd_price6').html(error);              
  }
  else if(element.attr("id") == "cost_description_7") {
    $('#sd7').html(error);              
  }else if(element.attr("id") == "cost_price_7") {
    $('#sd_price7').html(error);              
  }
  else if(element.attr("id") == "cost_description_8") {
    $('#sd8').html(error);              
  }else if(element.attr("id") == "cost_price_8") {
    $('#sd_price8').html(error);              
  }
  else if(element.attr("id") == "cost_description_9") {
    $('#sd9').html(error);              
  }else if(element.attr("id") == "cost_price_9") {
    $('#sd_price9').html(error);              
  }
  else if(element.attr("id") == "cost_description_10") {
    $('#sd10').html(error);              
  }else if(element.attr("id") == "cost_price_10") {
    $('#sd_price10').html(error);              
  } else {
    //error.insertAfter(element);
	error.addClass('help-block').insertAfter(element.closest('.form-control'));//For Other Normal Fileds
  }
  
  
	if (element.attr("name") == "from") {
				error.insertAfter('.from-date-sel');	
	}
	if (element.attr("name") == "to") {
		error.insertAfter('.to-date-sel');
	}
  
}
      /* errorPlacement: function (error, element) { 
   /*      if((element.attr('id') == 'txtpagetitle'))
      {        

          $(element).closest('.form-group').addClass('has-error'); // set error class to the control group
      }*/
    /*  if((element.attr('id') == 'cost_description_1'))
      {         
        $('#sd1').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_2'))
      {         
        $('#sd2').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_3'))
      {         
        $('#sd3').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_4'))
      {         
        $('#sd4').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_5'))
      {         
        $('#sd5').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_6'))
      {         
        $('#sd6').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_7'))
      {         
        $('#sd7').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_8'))
      {         
        $('#sd8').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_9'))
      {         
        $('#sd9').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_description_10'))
      {         
        $('#sd10').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_price_1'))
      {         
        $('#sd_price1').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_price_2'))
      {         
        $('#sd_price2').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
      if((element.attr('id') == 'cost_price_3'))
      {         
        $('#sd_price3').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
            if((element.attr('id') == 'cost_price_4'))
      {         
        $('#sd_price4').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
            if((element.attr('id') == 'cost_price_5'))
      {         
        $('#sd_price5').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
            if((element.attr('id') == 'cost_price_6'))
      {         
        $('#sd_price6').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
            if((element.attr('id') == 'cost_price_7'))
      {         
        $('#sd_price7').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
            if((element.attr('id') == 'cost_price_8'))
      {         
        $('#sd_price8').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
            if((element.attr('id') == 'cost_price_9'))
      {         
        $('#sd_price9').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
            if((element.attr('id') == 'cost_price_10'))
      {         
        $('#sd_price10').html(error.addClass('help-block'));              
        element.closest('.form-control').addClass('has-error');       
      }
   } */
  });  
  
  $('.update_default_check').click(function(){
    var file_id = $(this).attr('data-file-id');
    
    $('#set_default_edit_'+file_id).attr('value','');
    $("input[name='set_default_edit']").val(file_id);
  });
  
  /*$('.default_check_pic').live('click',function(){
    var file_id = $(this).attr('data-file-id');
    $('#set_default_edit_'+file_id).val(file_id);
  });*/
  
});

$('.remove_images').click(function(){
  var file_id = $(this).attr('data-id');
  var file_name = $(this).attr('data-file');
  var thumb_id = $(this).attr('data-inc-id');
  
  var confirm_file_del = confirm('Are you sure you want to delete this file?');
  
  
  if(confirm_file_del == true) {
    
    $.ajax({
      type: "POST",
      url: '<?php echo base_url(); ?>add_fundraiser/delete_file',
      beforeSend: function(){
        $('#loadimg_'+file_id).show();
        $(this).hide(); 
      },
      data: {
        file_id : file_id,
        file_name : file_name
      },
      dataType:"html",
      complete: function(){
        $('#loadimg_'+file_id).hide();
        $(this).show(); 
      }
    });
    
    $(this).closest('.thumbnail-wrapp').hide();
    
    $('#pro-img-uploader'+thumb_id).closest('.thumbnail-wrapp').show();
    $('#pro-img-uploader'+thumb_id).show();
    
    var thumbnail_length = $('.remove_images:visible').length;
    //console.log(thumbnail_length);
    if(thumbnail_length == 0) {
      $('#pro-img-uploader1').closest('.thumbnail-wrapp').show();
      $('#pro-img-uploader1').show();
      //console.log('0 => '+thumbnail_length);
      
      //if($.trim($('.image_preview2').html()) == '') {
        $('#pro-img-uploader2').closest('.thumbnail-wrapp').hide();
        $('#pro-img-uploader2').hide();
      //} else {
        //$('#pro-img-uploader2').closest('.thumbnail-wrapp').show();
        //$('#pro-img-uploader2').show();
      //}
      
      //if($.trim($('.image_preview3').html()) == '') {
        $('#pro-img-uploader3').closest('.thumbnail-wrapp').hide();
        $('#pro-img-uploader3').hide();
      //} else {
        //$('#pro-img-uploader3').closest('.thumbnail-wrapp').show();
      //  $('#pro-img-uploader3').show();
      //}
      
      //if($.trim($('.image_preview4').html()) == '') {
        $('#pro-img-uploader4').closest('.thumbnail-wrapp').hide();
        $('#pro-img-uploader4').hide();
      //} else {
        //$('#pro-img-uploader4').closest('.thumbnail-wrapp').show();
        //$('#pro-img-uploader4').show();
      //}
      
    } else if(thumbnail_length == 1) {
      //console.log('1 => '+thumbnail_length);return false;
      $('#pro-img-uploader1').closest('.thumbnail-wrapp').hide();
      $('#pro-img-uploader1').hide();
      
      $('#pro-img-uploader2').closest('.thumbnail-wrapp').show();
      $('#pro-img-uploader2').show();
      
      if($.trim($('.image_preview3').html()) == '') {
        $('#pro-img-uploader3').closest('.thumbnail-wrapp').hide();
        $('#pro-img-uploader3').hide();
      } else {
        $('#pro-img-uploader3').closest('.thumbnail-wrapp').show();
        $('#pro-img-uploader3').show();
      }
      
      if($.trim($('.image_preview4').html()) == '') {
        $('#pro-img-uploader4').closest('.thumbnail-wrapp').hide();
        $('#pro-img-uploader4').hide();
      } else {
        $('#pro-img-uploader4').closest('.thumbnail-wrapp').show();
        $('#pro-img-uploader4').show();
      }

      
    } else if(thumbnail_length == 2) {
      $('#pro-img-uploader1').closest('.thumbnail-wrapp').hide();
      $('#pro-img-uploader1').hide();
      
      $('#pro-img-uploader2').closest('.thumbnail-wrapp').hide();
      $('#pro-img-uploader2').hide();
      
      $('#pro-img-uploader3').closest('.thumbnail-wrapp').show();
      $('#pro-img-uploader3').show();
      
      if($('.image_preview4').html() == '') {
        $('#pro-img-uploader4').closest('.thumbnail-wrapp').hide();
        $('#pro-img-uploader4').hide();
      } else {
        $('#pro-img-uploader4').closest('.thumbnail-wrapp').show();
        $('#pro-img-uploader4').show();
      }
    } else if(thumbnail_length == 3) {
      $('#pro-img-uploader1').closest('.thumbnail-wrapp').hide();
      $('#pro-img-uploader1').hide();
      
      $('#pro-img-uploader2').closest('.thumbnail-wrapp').hide();
      $('#pro-img-uploader2').hide();
      
      $('#pro-img-uploader3').closest('.thumbnail-wrapp').hide();
      $('#pro-img-uploader3').hide();
      
      $('#pro-img-uploader4').closest('.thumbnail-wrapp').show();
      $('#pro-img-uploader4').show();
    }
  }
  
});

$(window).load(function() {
  var count_blocks ='<?php echo (isset($campaign_images))?count($campaign_images):''; ?>';
  
  if(count_blocks == 0) {
    $('#pro-img-uploader1').closest('.thumbnail-wrapp').show();
    $('#pro-img-uploader1').show();
  } else if(count_blocks == 1) {
    $('#pro-img-uploader2').closest('.thumbnail-wrapp').show();
    $('#pro-img-uploader2').show();
  } else if(count_blocks == 2) {
    $('#pro-img-uploader3').closest('.thumbnail-wrapp').show();
    $('#pro-img-uploader3').show();
  } else if(count_blocks == 3) {
    $('#pro-img-uploader4').closest('.thumbnail-wrapp').show();
    $('#pro-img-uploader4').show();
  }
});
var count = "<?php if(isset($iCount)){ echo $iCount;}else{ echo 1;} ?>";
</script> 
<script src="<?php echo base_url(); ?>assets/custom_jquery/sponsorship_add_new_fundraiser.js?16032017"></script> 
<!--<script type="text/javascript" src="http://jqueryrotate.googlecode.com/svn/trunk/jQueryRotate.js"></script>--> 
<script type="text/javascript" src="<?php echo base_url(); ?>assets/ajaxfileupload.js"></script> 
<script src="<?php echo base_url(); ?>assets/custom_photo_video.js" type="text/javascript" ></script> 
<script src="<?php echo base_url(); ?>assets/cropper.js" type="text/javascript" ></script> 
<script src="<?php echo base_url(); ?>assets/custom_jquery/campaign_photo.js?27062017" type="text/javascript"></script> 

<!--Date Picker--> 

<script type="text/javascript">
var upload_link= '<?php echo base_url(); ?>org_animal/animal_add_files';
var file_divid = 'campaign';
</script> 

<!-- The jQuery UI widget factory, can be omitted if jQuery UI is already included --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/vendor/jquery.ui.widget.js"></script> 
<!-- The Templates plugin is included to render the upload/download listings --> 
<script src="<?php echo base_url(); ?>assets/plugins/multi-files-upload/tmpl.min.js"></script> 
<!-- The Load Image plugin is included for the preview images and image resizing functionality --> 
<script src="<?php echo base_url(); ?>assets/plugins/multi-files-upload/load-image.min.js"></script> 
<!-- The Canvas to Blob plugin is included for image resizing functionality --> 
<script src="<?php echo base_url(); ?>assets/plugins/multi-files-upload/canvas-to-blob.min.js"></script> 
<!-- Bootstrap JS is not required, but included for the responsive demo navigation --> 
<!-- 23th-Sept-2014 My Profile dropdown not working -->
<!-- <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>  -->
<!-- blueimp Gallery script --> 
<script src="<?php echo base_url(); ?>assets/plugins/multi-files-upload/jquery.blueimp-gallery.min.js"></script> 
<!-- The Iframe Transport is required for browsers without support for XHR file uploads --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/jquery.iframe-transport.js"></script> 
<!-- The basic File Upload plugin --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/jquery.fileupload.js"></script> 
<!-- The File Upload processing plugin --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/jquery.fileupload-process.js"></script> 
<!-- The File Upload image preview & resize plugin --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/jquery.fileupload-image.js"></script> 
<!-- The File Upload validation plugin --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/jquery.fileupload-validate.js"></script> 
<!-- The File Upload user interface plugin --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/jquery.fileupload-ui.js"></script> 
<!-- The main application script --> 
<script src="<?php echo base_url(); ?>assets/plugins/jquery-file-upload/js/file_upload_main.js"></script> 

<script>

$(document).ready(function(){
  $('#'+file_divid).fileupload({
      url: upload_link,
      maxNumberOfFiles: 10,
      maxFileSize : 5242880,
      acceptFileTypes :/(\.|\/)(jpe?g|doc|docx|xls|xlsx|pdf)$/i,
      sequentialUploads: true,
      autoUpload :true,
      disableImageResize:true
  });
});
    </script> 


<script type="text/javascript">         
    
    function save_data()
    {   
      var sess_campaign_id  = $("#sess_campaign_id").val();
      
      var campaign_id = $("#campaign_id").val();
      //alert('campaign_id'+campaign_id);   
      var page_title  = $("#txtpagetitle").val();
      var story_title = $("#txtstorytitle").val();
      var profile_title = $("#txtpagestorytitle").val();
      var custom_url  = $("#txtcustomurl").val();
      var paypal_email_id = $("#txtpaypalid_email").val();
      var cost_description1 =   $("#cost_description_1").val();
      var cost_price1 =   $("#cost_price_1").val();
      //var cost_price2 = $("[name=cost_price2[]]").val();
      //var cost_price2 = [];
      var cost_price_new = document.getElementsByName("cost_price2[]").length;
      //var cost_price2 = document.getElementsByName("cost_price2[]").value;
      
      //var cost_price2 = $("[name='cost_price2[]']")[0];
      var cost_price1_new_cnt = document.getElementsByName("cost_price1[]").length;
      
      var cost_desc1_new = $("input[name='cost_desc1[]']")
              .map(function(){return $(this).val();}).get();
       
      var cost_price1_new = $("input[name='cost_price1[]']")
              .map(function(){return $(this).val();}).get();
          
      var cost_desc2 = $("input[name='cost_desc2[]']")
              .map(function(){return $(this).val();}).get();
        
      var cost_price2 = $("input[name='cost_price2[]']")
              .map(function(){return $(this).val();}).get();
        
      var to_date =   $("#to_date").val(); 
      
      var from_date = $("#from_date").val(); 
        
      var myData={"page_title":page_title,"story_title":story_title,"profile_title":profile_title,"to_date":to_date,"from_date":from_date,"custom_url":custom_url,"paypal_email_id":paypal_email_id,'cost_description1': cost_description1,'cost_price1': cost_price1,'cost_desc2':cost_desc2,'cost_price2': cost_price2,'cost_desc1_new':cost_desc1_new,'cost_price1_new': cost_price1_new,'cost_price1_new_cnt':cost_price1_new_cnt,'cost_price_new':cost_price_new,'campaign_id':campaign_id};
      
      console.log(myData);
                
      if(page_title !='' || story_title !='' || profile_title !='' || custom_url !='' || paypal_email_id !='')
      {           
          $.ajax({
            type: "POST",
            url: '<?php echo base_url(); ?>add_fundraiser/save_fundraiser',
            data: myData,             
            dataType:"html",
            success:function(data) {
                //alert(data); 
                //return false;
                //alert('Mail sent successfully.');
                if(data)
                {
                $("#sess_campaign_id").val(data);
                $("#campaign_id").val(data);
                //alert($("#sess_campaign_id").val());
                
                  //alert(data);
                //return false;
                }
            }
          }); 
      }
    }
    
    function delete_cost_record(cost_id)
    {
      //alert(cost_id);
      var campaign_id = $("#campaign_id").val();
      //alert(campaign_id);
      var myData={"cost_id":cost_id,'campaign_id':campaign_id};
      $.ajax({
            type: "POST",
            url: '<?php echo base_url(); ?>add_fundraiser/delete_fundraiser_cost',
            data: myData,             
            dataType:"html",
            success:function(data) {
                //alert(data); 
                //return false;
                //alert('Mail sent successfully.');
                if(data)
                {
                //alert($("#sess_campaign_id").val());
                
                  //alert(data);
                //return false;
                }
            }
          }); 
    }     
</script>
	<script>
	$('#datepicker-icon.from').find('.from-date-icon').on('click', function(){
 	$('#from_date').trigger('focus');
 });
$('#datepicker-icon.to').find('.to-date-icon').on('click', function(){
 	$('#to_date').trigger('focus');
 });
	</script>
<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>